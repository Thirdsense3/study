<!DOCTYPE html>
<html>
    <head>
        <title>BootStrap TEST</title>

         <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    </head>

    <body>
        <div class="container">
            <div class="row text-center" style="margin: 20px 0;">
                <div class="col-12">
                    <script>
                        $(document).ready(function(){
                          $(".btn1").click(function(){
                            $("h2").hide();
                          });
                          $(".btn2").click(function(){
                            $("h2").show();
                          });
                        });
                    </script>

                    <h2>학생 리스트</h2>

                    <button class="btn1">Hide</button>
                    <button class="btn2">Show</button>  
                </div>
            </div>
            <div class="row" id = "cardList">
            </div>
        </div>
        <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
        
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            
            <script>
                $(document).ready(function(){
                        $("#delete_btn").click(function(){
                            console.log("go")
                            console.log($("exampleModal").index(this));
                        });
                    });
            </script>
            <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id=modalBody></p>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
                <button type="button" id="delete_btn" class="btn btn-primary">Delete</button>
                </div>
            </div>
            </div>
        </div>

    <script>
        const people = '{"students": ['
                +'{"profileData": "", "name": 27, "Intro": "Some quick example text to build on the card title and make up the bulk of the cards content."},'
                +'{"profileData": "", "name": 28, "Intro": "Some quick example text to build on the card title and make up the bulk of the cards content."},'
                +'{"profileData": "", "name": 29, "Intro": "Some quick example text to build on the card title and make up the bulk of the cards content."},'
                +'{"profileData": "", "name": 30, "Intro": "Some quick example text to build on the card title and make up the bulk of the cards content."},'
                +'{"profileData": "", "name": 31, "Intro": "Some quick example text to build on the card title and make up the bulk of the cards content."},'
                +'{"profileData": "", "name": 32, "Intro": "Some quick example text to build on the card title and make up the bulk of the cards content."},'
                +'{"profileData": "", "name": 33, "Intro": "Some quick example text to build on the card title and make up the bulk of the cards content."},'
                +'{"profileData": "", "name": 34, "Intro": "Some quick example text to build on the card title and make up the bulk of the cards content."}'
            +']}';
        obj = JSON.parse(people);
        var vi="";

        for(var i=0;i<obj.students.length;i++){
            vi += '<div class="col-xs-12 col-sm-6 col-lg-4 col-xl-3">' 
                    + '<div class="card" style="width: 100%; margin-bottom: 20px;">' 
                    + '<img src="..." class="card-img-top" alt="...">' 
                        + '<div class="card-body">'
                            + '<h5 class="card-title">' + obj.students[i].name + '</h5>'
                            + '<p class="card-text">' + obj.students[i].Intro + '</p>'
                            + '<a href="#" onClick=editT($("a").index(this)) class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Go somewhere</a>'
                        + '</div>'
                    +'</div>'
                +'</div>';  
        }
    
        document.getElementById('cardList').innerHTML = vi;        

        function editT(idx){
            console.log(idx);
            document.getElementById('modalBody').innerHTML = obj.students[idx].name;
        }

    
        
    </script>
    </body>
</html>